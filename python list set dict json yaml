


dic = {'a': 1, 'b': 2, 'c': 3, 'd': 4, 'm': 8}

co = set(dic.keys())&set(['b','d','a','c','f','g'])
li = set(dic.keys())-set(['b','d','a','c','f','g'])
kk = list(co)+list(li)

k2 = {k:dic[k] for k in kk}


# dict update() æ–¹æ³•çš„ä½¿ç”¨æ–¹æ³•ï¼š

D = {'one': 1, 'two': 2}
 
D.update({'three': 3, 'four': 4})  # ä¼ ä¸€ä¸ªå­—å…¸
print(D)
 
D.update(five=5, six=6)  # ä¼ å…³é”®å­—
print(D)
 
D.update([('seven', 7), ('eight', 8)])  # ä¼ ä¸€ä¸ªåŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç¥–çš„åˆ—è¡¨
print(D)
 
D.update(zip(['eleven', 'twelve'], [11, 12]))  # ä¼ ä¸€ä¸ªzip()å‡½æ•°
print(D)
 
D.update(one=111, two=222)  # ä½¿ç”¨ä»¥ä¸Šä»»æ„æ–¹æ³•ä¿®æ”¹å­˜åœ¨çš„é”®å¯¹åº”çš„å€¼
print(D)


# updataæ–¹æ³•æ˜¯æ²¡æœ‰è¿”å›å€¼çš„ï¼ˆè¿”å›å€¼ä¸ºNoneï¼‰ï¼Œä¸èƒ½ç›´æ¥èµ‹å€¼è¿”å›å€¼ç»™å˜é‡

dict1 = {1: "å½­é", 2: "å½­å¤§æ ¹"}
dict3 = dict1.update({8: "PLUS"})
print(dict3)

dict1.update({8: "PLUS"})
dict3 = dict1
print(dict3)


# import json,yaml

# ttt = '''
#     proxies:
#       -
#         name: v2|é¦™æ¸¯01|MPTCP|â˜…â˜…â˜…
#         type: ss
#         server: 3urbvz0srnta639sdy2s8jimfnpgegqmf6p45gnq.k1h8.top
#         port: 54721
#         cipher: aes-128-gcm
#         password: 14766e02e778
#         udp: false
#         plugin: obfs
#         plugin-opts:
#           mode: http
#           host: uhb4t4il5budgsyzamn2wm6l7.sina.cn
#       -
#         name: v2|é¦™æ¸¯01|MPTCP|â˜…â˜…â˜…
#         type: ss
#         server: 3urbvz0srnta639sdy2s8jimfnpgegqmf6p45gnq.k1h8.top
#         port: 54721
#         cipher: aes-128-gcm
#         password: 14766e02e778
#         udp: false
#         plugin: obfs
#         plugin-opts:
#           mode: http
#           host: uhb4t4il5budgsyzamn2wm6l7.sina.cn      
#     '''
# print(yaml.load(ttt,Loader = yaml.SafeLoader))

# yyy = '''
#     proxies:
#       - {name: ğŸ‡¦ğŸ‡º AU_55 |23.07Mb, server: 129.154.48.221, port: 37372, type: vmess, uuid: 6f4454a9-e732-46c6-c50f-73f13da31f7b, alterId: 0, cipher: auto, tls: false, skip-cert-verify: false}
#       - {name: ğŸ‡¦ğŸ‡º AU_56 |24.13Mb, server: 152.67.102.225, port: 46360, type: vmess, uuid: 61fe4d4e-8c7e-4f2e-9b9f-49f38991be7d, alterId: 0, cipher: auto, tls: false, skip-cert-verify: false}
#     '''
# print(yaml.load(ttt,Loader = yaml.SafeLoader))

# json_data = {'name': 'ä¸€æ¡å¤§æ²³',
#        'age': 1956,
#        'job': ['Singer','Dancer']}
 
# print(yaml.dump(json_data, default_flow_style=False).encode('utf-8').decode('unicode_escape').replace('"',''))
# print(yaml.dump(json_data, default_flow_style=True).encode('utf-8').decode('unicode_escape').replace('"',''))



import json,yaml,re

# bb = '{name: å°æ¹¾ I5ä¸¨IEPLé™æ—¶,ä½“éªŒ8å°æ—¶ |0x 001, server: 120.232.132.71, port: 25680, type: trojan, password: 3b4a7,9d, skipcertverify: true}'
# bb = '{name: å°æ¹¾ C è·¨å¢ƒéš§é“ä¼˜åŒ–, server: tw3.xn--6p1awey07c.xyz, port: 43443, type: trojan, password: 0e4be520-5039-4df3-975a-1939ea8b52ce, skip-cert-verify: true}'
# bb = '{name: GLaDOS-Portalgun08, server: c68b799.v9.gladns.com, port: 3331, type: vmess, uuid: 57e0cb4d-eae5-48ec-8091-149dc2b309e0, alterId: 0, cipher: auto, tls: true, skip-cert-verify: true, network: ws, ws-opts: {path: /t, headers: {Host: tls.apple.com}}, udp: true}'
# bb = '{name: %GLaDOS-Portalgun-08, server: c68b799.v9.gladns.com, port: 3331, type: vmess, uuid: 57e0cb4d-eae5-48ec-8091-149dc2b309e0, alterId: 0, cipher: auto, tls: true, skip-cert-verify: true, network: ws, ws-path: /t, ws-headers: {Host: %7B%22Edge%22:%22c68b799.fm.huawei.com:50307%22,%22Host%22:%22tls.apple.com%22%7D}, udp: true}'
# bb = '{name: ^GLaDOS-Portalgun-08, server: *c68b799.v9.gladns.com, port: @3331, type: !vmess, uuid: !57e0cb4d-eae5-48ec-8091-149dc2b309e0, alterId: ?0, cipher: [auto], tls: tr,ue, skip-cert-verify: true, network: ws, ws-path: /t, ws-headers: {Host: {Edge:c68b799.fm.huawei.com:50307,Host:tls.apple.com}}, udp: true}'
bb = '{name: ^GLaDOS-Portalgun-08, server: *c68b799.v9.gladns.com, port: @3331, type: !vmess, uuid: !57e0cb4d-eae5-48ec-8091-149dc2b309e0, alterId: ?0, cipher: [auto], tls: tr,ue, skip-cert-verify: true, network: ws, ws-path: /t, ws-headers: {Host: {"Edge":"c68b799.fm.huawei.com:50307","Host":"tls.apple.com"}}, udp: true}'


# print(re.findall(r'(\b\w.*?: .*?)(?:, |}$)', bb))
# print(re.findall(r': (?<= |,|{)([?!%@^*][^:]*?|[^:]*?[\[\]?,][^:]*?), ',bb))
line = re.sub(r': (?<= |,|{)([?!%@^*][^:]*?|[^:]*?[\[\]?%,][^:]*?)(, |}|$)', r': "\1"\2', bb)
line = re.sub(r': ([?!%@^*][^:]*?|[^:]*?[\[\]?%,][^:]*?)(, |}|$)', r': "\1"\2', bb)
line = re.sub(r': (%[^{\s]+?:[^{\s]+?)(}|$)', r': "\1"\2', line)
# line = re.sub(r':([^{%\s]*?)(,|}|$)', r':"\1"\2', line)

print(line + '\n')
print(yaml.safe_load(line))
print(yaml.dump(yaml.safe_load(line),sort_keys = False))

line = re.sub(r': ([?!%@^*][^:]*?|(?:[^:]*?[\[\]?%,])+[^:]*?|%(?:[^ ]*?[\[\]?%,])+[^ ]*?)(,|}|$)', r': "\1"\2', bb)


